{% extends "base_accounts.html" %}
{% block title %}Nueva contraseña{% endblock %}
{% block content %}
    <h3 class="fw-bold text-center mb-4" style="color: var(--primary-dark);">Crear nueva contraseña</h3>
    {% if validlink %}
        <p class="text-muted text-center mb-4">Ingresa tu nueva contraseña a continuación.</p>
        <form method="post">
            {% csrf_token %}
            {% for field in form %}
                <div class="mb-3">
                    <label class="form-label fw-bold small text-muted mb-1">{{ field.label|upper }}</label>
                    <input type="{{ field.field.widget.input_type }}" name="{{ field.name }}" class="form-control p-3 bg-light border-0" required>
                    {% if field.help_text %}<div class="form-text small text-muted mt-1">{{ field.help_text|safe }}</div>{% endif %}
                </div>
            {% endfor %}
            <button type="submit" class="btn btn-premium w-100 py-3 rounded-pill mt-3">CAMBIAR CONTRASEÑA</button>
        </form>
    {% else %}
        <div class="alert alert-danger text-center">El enlace de recuperación es inválido o ha expirado.</div>
        <div class="text-center mt-3"><a href="{% url 'password_reset' %}" class="btn btn-outline-dark rounded-pill">Solicitar nuevo enlace</a></div>
    {% endif %}
{% endblock %}